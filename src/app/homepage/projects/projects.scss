@use '../../../vars.scss';
@use '../../../mixins.scss';

section {
	padding-bottom: 0;
}

.projects {
	@include mixins.flexBox($jc: space-between);
	flex-wrap: wrap;
	> * {
		flex: 0 0 45%;
		max-width: 45%;
	}
	@media (max-width: 991px) {
		@include mixins.flexBox($fd: column, $ai: center, $jc: flex-start);
		> * {
			flex: 0 0 100%;
			max-width: 100%;
		}
	}
	.intro {
		@media (max-width: 991px) {
			margin-bottom: 2.3rem;
		}
		h2 {
			@include mixins.headline(
				100%,
				100%,
				270deg,
				-10px,
				0,
				'bottom',
				'left',
				30px,
				'no'
			);
			width: fit-content;
			&::before {
				background-image: url('../../../../public/img/icons/projects/wavy_line.png');
			}
		}
		p {
			padding-top: vars.$spacing-md;
		}
	}
}

.project {
	@include mixins.flexBox($fd: column, $ai: flex-start, $g: vars.$spacing-sm);
	@media (max-width: 991px) {
		margin-bottom: 2.3rem;
	}
	&.featured {
		margin-bottom: 5rem;
		@media (max-width: 991px) {
			margin-bottom: 2.3rem;
		}
		.project-img-container {
			@include mixins.flexBox($jc: flex-end, $ai: flex-start);
			position: relative;
		}
		.project-img {
			height: 350px;
			object-fit: contain;
			width: 100%;
			animation: upAndDown 4s ease-out infinite;
			@media (max-width: 991px) {
				animation: none;
			}
			@media (max-width: 767px) {
				height: unset;
			}
		}
		.sticker {
			position: absolute;
			left: 0;
			bottom: 10%;
			width: 170px;
			height: 170px;
			background-image: url('../../../../public/img/projects/round-sticker.png');
			@include mixins.backgroundImageProperties($bs: contain);
			@include mixins.flexBox($jc: center, $ai: center);
			@media (max-width: 767px) {
				width: 120px;
				height: 120px;
			}
		}
	}
	&-img {
		width: 100%;
		height: 100%;
		object-fit: cover;
		transition: transform 0.2s ease-in;
	}
	.main-btn {
		align-self: flex-end;
		margin-top: vars.$spacing-mdg;
	}
	&-img-container {
		height: 400px;
		width: 100%;
		overflow: hidden;
		border-radius: vars.$radius-img;
		transition: all 0.2s ease-in;
		position: relative;
		@media (max-width: 767px) {
			height: unset;
		}
		&::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			border-radius: vars.$radius-img;
			z-index: 1;
		}
		button {
			position: absolute;
			bottom: 20px;
			right: 20px;
			z-index: 2;
			opacity: 0;
			transition: all 0.2s ease-in;
		}
		&:hover {
			@media (min-width: 992px) {
				&::before {
					background: linear-gradient(
						180deg,
						transparent 0%,
						transparent 50%,
						rgba(0, 0, 0, 0.7) 100%
					);
				}
				.project-img {
					transform: translateY(0) scale(1.1);
					animation: hoverFeaturedProject 0.2s ease-in-out;
					object-fit: cover;
				}
				button {
					opacity: 1;
				}
			}
		}
	}
}
