@use '../../../vars.scss';
@use '../../../mixins.scss';

.testimonials {
	.intro {
		width: 100%;
		@include mixins.flexBox($fd: column, $ai: flex-end, $jc: flex-start);
		p {
			@include mixins.headline(
				100%,
				100%,
				90deg,
				-5px,
				0,
				'top',
				'left',
				0,
				'no'
			);
			width: fit-content;
			&::before {
				background-image: url('../../../../public/img/icons/testimonials/curved-arrow.png');
				transform: translateX(-85%);
			}
		}
		h2 {
			padding-bottom: vars.$spacing-lg;
			text-align: right;
		}
	}
	&-reviews {
		position: relative;
		height: 400px;
		@media (max-width: 991px) {
			height: auto;
			@include mixins.flexBox($fd: column);
			padding: vars.$spacing-sm;
		}
	}
}

.review {
	position: absolute;
	width: 512px;
	height: 320px;
	@media (max-width: 991px) {
		position: relative;
	}
	@media (max-width: 575px) {
		width: 100%;
		height: 400px;
	}
	&:first-of-type {
		top: 0;
		left: 0;
		z-index: 3;
		transform: rotate(-5deg);
	}
	&:nth-of-type(2) {
		bottom: 0;
		left: 50%;
		z-index: 2;
		transform: translateX(-50%);
		@media (max-width: 991px) {
			left: 0;
			transform: translateX(0);
		}
	}
	&:last-of-type {
		top: 0;
		right: 0;
		z-index: 1;
		transform: rotate(5deg);
	}
	&:hover {
		z-index: 5;
		.review-content {
			background-image: url('../../../../public/img/testimonials/card-hover.png');
			@include mixins.backgroundImageProperties();
		}
		.review-footer {
			p {
				color: #fff;
			}
		}
	}
	img {
		width: 100%;
		height: 100%;
	}
	&-content {
		position: absolute;
		top: 0;
		left: 0;
		padding: vars.$spacing-lg vars.$spacing-mdg;
		width: 100%;
		height: 100%;
		@include mixins.flexBox($fd: column, $jc: space-between);
		@media (max-width: 575px) {
			padding: vars.$spacing-md;
		}
	}
	&-footer {
		@include mixins.flexBox($jc: space-between, $ai: flex-end);
		width: 100%;
		p {
			&:first-of-type {
				font-weight: 600;
			}
		}
		a {
			@include mixins.flexBox($jc: flex-end, $ai: center, $g: vars.$spacing-xs);
			text-decoration: none;
			color: #000;
			img {
				filter: brightness(0);
			}
			&:hover {
				color: #fff;
				img {
					filter: unset;
				}
			}
		}
	}
}